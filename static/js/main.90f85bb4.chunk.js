(this.webpackJsonplyricsync=this.webpackJsonplyricsync||[]).push([[0],{101:function(e,t,a){},103:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),l=a.n(i),c=(a(70),a(13)),o=a(58),s=a(136),u=a(128),m=function(e){var t=e.handleMusicUpload,a=e.isPlaying;return r.a.createElement(u.a,{style:{margin:"0 5px"},variant:"contained",color:"primary",component:"label",disabled:a},"Upload MP3/WAV",r.a.createElement("input",{type:"file",accept:".mp3,.wav",onChange:function(e){void 0!==e.target.files[0]&&t(e.target.files[0])},style:{display:"none"}}))},d=function(e){var t=e.handleLyricUpload,a=e.isPlaying;return r.a.createElement(u.a,{style:{margin:"0 5px"},variant:"contained",color:"primary",component:"label",disabled:a},"Upload Lyric (LRC) file",r.a.createElement("input",{type:"file",onChange:function(e){(function(e){var t=new FileReader;return new Promise((function(a,n){t.onload=function(e){return a(e.target.result)},t.onerror=function(e){return n(e)},t.readAsText(e)}))})(e.target.files[0]).then((function(e){t(e)})).catch((function(e){return console.log(e)}))},accept:".lrc, .txt",style:{display:"none"}}))},p=(a(75),a(131)),y=function(e){var t=e.lyrics,a=e.currentTime,n=e.setUpdateTime,i="";i=-1!==t.search(/\[[0-9]/)?t.substr(t.search(/\[[0-9]/)).split("\n"):t.split("\r\n");return r.a.createElement("div",{id:"lyrics-container",className:"lyrics-container"},i.map((function(e,i,l){var c=60*parseInt(e.substr(1,2))+parseInt(e.substr(4,2));if(i+1!==l.length){var o=60*parseInt(l[i+1].substr(1,2))+parseInt(l[i+1].substr(4,2));if(c<=a&&a<=o)return r.a.createElement(p.a,{variant:"body1",id:"highlight",color:"textPrimary"},r.a.createElement("b",null,e.substr(10)+"\n"))}else if(c<=a&&a<=c+10)return r.a.createElement(p.a,{variant:"body1",id:"highlight",color:"textPrimary"},r.a.createElement("b",null,e.substr(10)+"\n"));return null!==document.getElementById("highlight")&&document.getElementById("highlight").scrollIntoView({block:"center",inline:"center"}),-1===t.search(/\[[0-9]/)?r.a.createElement(p.a,{variant:"body1",color:"textSecondary"},e+"\n"):r.a.createElement(p.a,{variant:"body1",color:"textSecondary",id:c,onClick:function(){n(c)}},e.substr(10)+"\n")})))},f=a(139),b=a(132),h=a(133),E=a(39),g=a.n(E),v=a(56),j=a.n(v),O=(a(76),function(e){var t=e.currentTime,a=e.updateCurrentTime,i=e.audio,l=e.updateTime,o=e.setIsPlaying,s=Object(n.useState)(r.a.createElement(g.a,null)),u=Object(c.a)(s,2),m=u[0],d=u[1],y=Object(n.useState)(0),E=Object(c.a)(y,2),v=E[0],O=E[1],x=Object(n.useState)(!1),C=Object(c.a)(x,2),T=C[0],w=C[1],L=document.getElementById("audio");Object(n.useEffect)((function(){null!==i&&(L.src=URL.createObjectURL(i),L.onloadedmetadata=function(){O(L.duration)},w(!0))}),[i,L]),Object(n.useEffect)((function(){null!==i&&(L.currentTime=l)}),[l]);return null!==i&&setInterval((function(){a(L.currentTime)}),500),r.a.createElement("div",{className:"player-container"},r.a.createElement("audio",{id:"audio"}),r.a.createElement(b.a,{className:"scrubber-container",container:!0,spacing:2,alignItems:"center",justify:"center"},r.a.createElement(b.a,{item:!0},r.a.createElement(p.a,{variant:"subtitle2",color:"textPrimary"},Math.floor(t/60),":",Math.floor(t%60)<10?"0"+Math.floor(t%60):Math.floor(t%60))),r.a.createElement(b.a,{item:!0},r.a.createElement(f.a,{style:{width:550},min:0,max:v,value:t,onChange:function(e,t){L.currentTime=t},disabled:!T})),r.a.createElement(b.a,{item:!0},r.a.createElement(p.a,{variant:"subtitle2",color:"textPrimary"},Math.floor(v/60),":",Math.floor(v%60)<10?"0"+Math.floor(v%60):Math.floor(v%60)))),r.a.createElement(h.a,{"aria-label":"play/pause",onClick:function(){null!=L&&(!0===L.paused?(L.play(),d(r.a.createElement(j.a,null)),o(!0)):(L.pause(),d(r.a.createElement(g.a,null)),o(!1)))},disabled:!T},m))}),x=function(e){var t=e.lyrics;return r.a.createElement(u.a,{onClick:function(){var e=document.createElement("a"),a=new Blob([t],{type:"text/plain"});e.href=URL.createObjectURL(a),e.download="lyrics.lrc",document.body.appendChild(e),e.click()},variant:"contained",color:"primary",style:{marginTop:"1rem",float:"right"}},"Download LRC")},C=a(137),T=a(135),w=a(105),L=a(134),P=(a(78),Object(L.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}))),S=function(e){var t=e.lyrics,a=e.handleLyricUpload,i=e.isPlaying,l=P(),o=Object(n.useState)(!1),s=Object(c.a)(o,2),m=s[0],d=s[1],y=Object(n.useState)(t),f=Object(c.a)(y,2),b=f[0],h=f[1];Object(n.useEffect)((function(){h(t)}),[t]);return r.a.createElement("div",{className:"edit-container"},r.a.createElement(u.a,{style:{margin:"0 5px"},variant:"text",color:"primary",onClick:function(){d(!0)},disabled:i},"Edit Lyrics"),r.a.createElement(C.a,{"aria-labelledby":"edit-modal-title","aria-describedby":"edit-modal-description",className:l.modal,open:m,onClose:function(){d(!1)},closeAfterTransition:!0,BackdropComponent:T.a,BackdropProps:{timeout:500}},r.a.createElement(w.a,{in:m},r.a.createElement("div",{className:l.paper},r.a.createElement(p.a,{variant:"h4",color:"textPrimary",id:"edit-modal-title"},"Edit Lyrics"),r.a.createElement(p.a,{variant:"subtitle1",color:"textPrimary"},"Type lyrics in the format:"," ",r.a.createElement("b",null,"[MM:SS.ss]",r.a.createElement("em",null,"lyric here"))),r.a.createElement("textarea",{className:"lyrics-text",value:b,onChange:function(e){h(e.target.value)}}),r.a.createElement(u.a,{className:"save-button",variant:"contained",color:"primary",onClick:function(){a(b),d(!1)},style:{marginTop:"1rem",marginLeft:"1rem",float:"right"}},"Save"),r.a.createElement(x,{lyrics:b})))))},k=a(138),U=a(57),I=a.n(U),M=Object(L.a)((function(e){return{popover:{pointerEvents:"none"},paper:{padding:e.spacing(1),height:"10em",width:"15em"}}})),N=function(e){var t=e.audio,n=e.setLyrics,i=e.isPlaying,l=M(),o=r.a.useState(null),s=Object(c.a)(o,2),m=s[0],d=s[1],p=function(){d(null)},y=Boolean(m);return r.a.createElement("div",{style:{display:"inline"}},r.a.createElement(u.a,{style:{margin:"0 5px"},onMouseEnter:function(e){d(e.currentTarget)},onMouseLeave:p,onClick:function(){var e=a(95),r="",i="";e.read(t,{onSuccess:function(e){r=e.tags.title,i=e.tags.artist,I.a.get("https://lyric-api.herokuapp.com/api/find/"+encodeURIComponent(i)+"/"+encodeURIComponent(r)).then((function(e){var t=e.data.lyric;"none"===e.data.err?n(t):alert("The lyrics for this song are not in the database!")}))},onError:function(e){alert("Could not retrieve file information, please upload lyrics or try another music file.")}})},variant:"text",color:"primary",disabled:null===t||i},"Autofill Lyrics"),r.a.createElement(k.a,{id:"mouse-over-popover",open:y,className:l.popover,classes:{paper:l.paper},anchorEl:m,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},onClose:p,disableRestoreFocus:!0},r.a.createElement("p",null,'Attempt to auto-upload lyrics based on available information in the currently uploaded music file. You will still have to use the "Edit Lyrics" function to add timestamps to the lyrics!')))};a(101);var R=function(){var e=Object(n.useState)(null),t=Object(c.a)(e,2),a=t[0],i=t[1],l=Object(n.useState)(0),u=Object(c.a)(l,2),p=u[0],f=u[1],b=Object(n.useState)("[00:00.00]Upload music and lyrics to get started!"),h=Object(c.a)(b,2),E=h[0],g=h[1],v=Object(n.useState)(0),j=Object(c.a)(v,2),x=j[0],C=j[1],T=Object(n.useState)(!1),w=Object(c.a)(T,2),L=w[0],P=w[1],k=function(e){g(e)},U=Object(o.a)({palette:{primary:{main:"#18bc9c",contrastText:"#fff"},type:"dark"}});return r.a.createElement(s.a,{theme:U},r.a.createElement("div",{className:"App"},r.a.createElement(m,{handleMusicUpload:function(e){i(e)},isPlaying:L}),r.a.createElement(N,{audio:a,setLyrics:g,isPlaying:L}),r.a.createElement(d,{handleLyricUpload:k,isPlaying:L}),r.a.createElement(S,{lyrics:E,handleLyricUpload:k,isPlaying:L}),r.a.createElement(y,{lyrics:E,currentTime:p,setUpdateTime:C}),r.a.createElement(O,{currentTime:p,updateCurrentTime:function(e){f(e)},audio:a,updateTime:x,setIsPlaying:P})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(102);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},65:function(e,t,a){e.exports=a(103)},70:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},78:function(e,t,a){}},[[65,1,2]]]);
//# sourceMappingURL=main.90f85bb4.chunk.js.map